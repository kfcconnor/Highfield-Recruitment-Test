@page
@model Highfield_Recruitment_Test.tableDisplayModel
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Highfield Recruitment Test</title>
</head>
<body>
    @{await tableDisplayModel.OnGetAsync();}
    <h1><b><u>Highfield Recruitment Test Program</u></b></h1>
    <form method="get"><button class="btn btn-light" type="submit">Click to Repopulate Tables</button></form>
    <form method="post"><button class="btn btn-light">Click to Post Response </button></form>
    @tableDisplayModel.responseCode
    <br />

    <table class=" table" border="1" style="float:left">
        <caption align="top"><b> User data gathered from the API converted from </b></caption>
        <thead>
            <tr class=" bg-primary">
                <th>ID</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
                <th>Date of Brith</th>
                <th>Favourate Colour</th>
        </thead>
        <tbody>

            @foreach (var user in tableDisplayModel.userData)
            {
                <tr>
                    <td align="center">@user.id</td>
                    <td align="center">@user.firstName</td>
                    <td align="center">@user.lastName</td>
                    <td align="center">@user.email</td>
                    <td align="center">@user.dob</td>
                    <td align="center">@user.favouriteColour</td>
                </tr>
            }

        </tbody>
    </table>

    <table class=" table" border="1" style="float:left">
        <caption align="top"><b> Ages of each user as well as their age in twenty years</b></caption>
        <thead>
            <tr class=" bg-primary">
                <th>User ID</th>
                <th>Age</th>
                <th>Age Plus Twenty</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var age in tableDisplayModel.ages)
            {
                <tr>
                    <td align="center">@age.userId</td>
                    <td align="center">@age.originalAge</td>
                    <td align="center">@age.agePlusTwenty</td>
                </tr>

            }

        </tbody>
    </table>
    <table class=" table" border="1"style="float:left">
        <caption align="left"><b> Table of favourate colours. Sorted first by quantity and then alphabetically</b></caption>
        <thead>
            <tr class=" bg-primary">
                <th>Colour</th>
                <th>Count</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var colour in tableDisplayModel.tC)
            {
                <tr>
                    <td align="center">@colour.colour</td>
                    <td align="center">@colour.count</td>
                </tr>

            }

        </tbody>
    </table>
</body>
</html>
